<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Guangze Zhao's Blog</title><link>http://www.zhaoguangze.com/</link><description></description><atom:link href="http://www.zhaoguangze.com/feeds/all.rss.xml" rel="self"></atom:link><lastBuildDate>Thu, 21 Jan 2016 00:00:00 +0800</lastBuildDate><item><title>回家</title><link>http://www.zhaoguangze.com/pages/2016/01/21/hui-jia.html</link><description>&lt;p&gt;又一年寒假回家，应该是最后一个假期了，买了北京回沈阳的学生票，想着最后享受一次学生待遇，早上花40大洋打车到火车站，然后惊然发现，没带学生证，无法取票，我面对两个选择：多停留一天，或买晚1小时的站票回家。纠结一番后，买了站票，又买个小马扎，就上车了，于是又一次便踏上了回家的列车。&lt;/p&gt;
&lt;p&gt;出门这么多年，也算是身经百战了，怎么会犯如此低级错误呢，可能正因为太过自信而疏忽了一些东西。现在想想，距2009年夏天第一次离家，已经过去了六年半，2009年6月我高中毕业，2016年1月我即将研究生毕业。&lt;/p&gt;
&lt;h2&gt;归途列车&lt;/h2&gt;
&lt;p&gt;2009年底第一次寒假回家买的硬座，从西安到沈阳，那时还没有提速，大约30小时。第一次坐这么长时间硬座，挺难受的一晚上没睡着，就是坐着。30小时坐下来真的感觉很虚，对身体也是很大的摧残，但是有过这样一次经历，30小时硬座对我来说也没什么了。&lt;/p&gt;
&lt;p&gt;2010年暑假，和老乡组团回家，还是30小时硬座，凌晨2点到沈阳，无处可去，只能熬到天亮再坐大客回西丰，对于我们来说，相当于在火车上坐着度过两白天＋两黑夜，很累。高兴的是，我们凌晨三点坐在沈阳北站附近麦当劳时，恰好赶上了那年世界杯的总决赛，于是和麦当劳里的球迷一起愉快的看了场世界杯。&lt;/p&gt;
&lt;p&gt;2010年寒假，大学舍友跟我到东北玩，号称从来没坐过硬座，我直接带其体验了一把30小时硬座，由于春运车上人很多，过道都站满了人，他好像一泼尿从西安憋到了石家庄，然后一宿坐着也没睡着，结局是，这家伙发誓以后再也不坐硬座了，哈哈。那次同行的还有西电老乡，只记得我老抢她的抱枕睡觉了。&lt;/p&gt;
&lt;p&gt;2011年，铁道部出了订票系统以后可以网上订票了，由于刚推出，很多人都不会用，可以很轻松的买到卧铺票，有了网上订票以后基本都能卧铺回家了，坐火车最后熟练到从西安到沈阳中间的站点可以依次背下来。&lt;/p&gt;
&lt;p&gt;2012年，2013年，已经完全习惯了，长途火车也好订机票回家也好，一次火车，还是近30小时，由于走得匆忙，买了站票，带个水壶就上车了，我是一直比较喜欢轻装简行，带最少的行李出门。&lt;/p&gt;
&lt;p&gt;在火车上，特别是长途火车，可以见到形形色色的人，听着人们聊天也是蛮有意思的一件事，因为时间很长，大家坐一块总会找些话题随便聊两句。2013年毕业以后，到北京读研，从北京回沈阳比西安近了很多，而且有动车，车次也很多，基本都有座位，非常方便。再也不需要坐30小时硬座了。&lt;/p&gt;
&lt;p&gt;大学期间，如果不是非常时期，西安到沈阳通常都会有打折机票，提前买还是很便宜的，坐飞机也是熟悉到可以把从学校或是亲戚家到机场大巴的花式路线都摸的清清楚楚，登机时间可以控制在十分钟之内，完全不需要等。最开始还有些晕机，后来怎么坐都没感觉了。&lt;/p&gt;
&lt;h2&gt;假期生活&lt;/h2&gt;
&lt;p&gt;每一年寒假过年时，家里的同学是最齐的，和同学的聊天话题，每年都在变，大一聊大学，聊专业，聊老同学，大二聊妹子，聊游戏，大三除了聊妹子和游戏外，聊聊未来计划，大四基本都在聊找工作，公务员，考研之类，毕业以后，聊工作，聊近况，开玩笑扯扯蛋。从聊天的内容就能感受到，我们都长大了。&lt;/p&gt;
&lt;p&gt;印象很深的是，一年两次的回家，每年家乡都变了个样子，每年回家都能认出来有些不一样，最开始是哪又新开了饭店，然后一招呼就去下馆子，哪又开了网吧，哪新盖了楼，后来寇河以南建了起来，新政府搬了过去，二中也不在以前的地方，搬到了河南，也通了高速，通了火车。。。。。。这六年半，西丰在变，我们也在变。&lt;/p&gt;
&lt;p&gt;现在，我和很多年轻人一样常年在外，每年陪伴家人的时间可能只有过年这几天，上学时还有寒暑假，工作以后，时间更少了，我想说的是，只要有时间一定要多多的陪伴家人，不要等到家人的离开，才后悔莫及。对于我，既要在外奋斗，又想在家照顾家人，总是不能同时满足，也是一种无可奈何。&lt;/p&gt;
&lt;p&gt;同学聚会，是每逢放假必不可少的，曾在一起奋斗的同学，一块玩耍的伙伴，许久不见，满是期待。缅怀过往，畅谈现在，憧憬未来。又一次重逢，岂能不畅快痛饮几杯。&lt;/p&gt;
&lt;p&gt;对于我假期的生活，以往来看，真是“腐败”，麻将，扑克，三国杀，玩不过来，过年在家玩“填坑”也是传统了，天天吃喝玩乐真是罪过。好了，先写这么多，想到什么以后再写，我也要开始享受我的假期了。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Thu, 21 Jan 2016 00:00:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-21:pages/2016/01/21/hui-jia.html</guid><category>Home</category></item><item><title>OpenDayLight开发(3)-DataStoreChange监听器三种类型</title><link>http://www.zhaoguangze.com/pages/2016/01/15/opendaylightkai-fa-3-datastorechangejian-ting-qi-san-chong-lei-xing.html</link><description>&lt;p&gt;OpenDayLight中的所有数据都保存在DataStore中，并且数据以树形结构存储，可参考OpenDayLight开发(2)中的介绍。外界对DataStore的访问有BA和BI两种方式，这两种方式具有映射关系，BI像是BA的底层实现，通过QName实现对数据的索引，而BA更像是在BI上的封装，不能以BI的方式对数据进行准确的索引，但是提供了更方便的调用接口等。&lt;/p&gt;
&lt;p&gt;&lt;img alt="映射关系" src="https://wiki.opendaylight.org/images/6/64/Arch-Fig4.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;由于数据存储在DataStore中，因此ODL中对DataStore的访问非常重要。DataStore的变化会触发DataStoreChange事件的发生，设置监听器收到变化事件后触发任务是ODL的运行机制。最近研究了三种Listener类型: DataChangeListener, DataTreeChangeListener, DomDataTreeChangeListener.&lt;/p&gt;
&lt;h2&gt;DataChangeListener&lt;/h2&gt;
&lt;p&gt;DataChangeListener是最简单的使用方式。Toaster中用的就是这种Listener，使用Binding-aware方式访问DataStore，具体调用方式在ODL(2)中有了说明，这里不再重复。其中需注意的是数据通过IID(InstanceIdentifier)作为索引/标识。使用DataChangeListener往往需要对整颗树进行监听，树中任何一个叶子节点的变化都会触发DataChangeListener事件。&lt;/p&gt;
&lt;h2&gt;DataTreeChangeListener&lt;/h2&gt;
&lt;p&gt;DataTreeChangeListener，数据的标识在IID的基础上，进一步精确，通过DataTreeIdentifier进行数据在树型结构中存储位置的定位。通过DataTreeIdentifier可以定位到树中的树干，可以进行更精确的变化位置的监听。使用方式：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Implement&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; 
    &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="n"&gt;VlanProvider&lt;/span&gt; &lt;span class="kd"&gt;implements&lt;/span&gt; &lt;span class="n"&gt;DataTreeChangeListener&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;Identifier&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; 
    &lt;span class="n"&gt;InstanceIdentifier&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Vlan_IID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;InstanceIdentifier&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;builder&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Device&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;config&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Switch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;).&lt;/span&gt;&lt;span class="n"&gt;child&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vlan&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;DataTreeIdentifier&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;vlan_path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;DataTreeIdentifier&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class="n"&gt;LogicalDatastoreType&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;CONFIGURATION&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Vlan_IID&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;Register&lt;/span&gt; &lt;span class="n"&gt;Listener&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DataBroker&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;VlanListener&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dataBroker&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;registerDataTreeChangeListener&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vlan_path&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;首先当前类实现DataTreeChangeListener接口，然后声明DataTreeIdentifier，最后注册监听器。监听函数代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;void&lt;/span&gt; &lt;span class="nx"&gt;onDataTreeChanged&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;Collection&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;DataTreeModification&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;Vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;changed&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;

    &lt;span class="nb"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="nx"&gt;DataTreeModification&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;Vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;change&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;changed&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="nx"&gt;DataObjectModification&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;Vlan&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;rootChange&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;change.getRootNode&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="nx"&gt;switch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;rootChange.getModificationType&lt;/span&gt;&lt;span class="p"&gt;()){&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nb"&gt;WRITE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Write - before : {} after : {}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataBefore&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataAfter&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
                &lt;span class="nx"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nx"&gt;SUBTREE_MODIFIED&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Write - before : {} after : {}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataBefore&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataAfter&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
                &lt;span class="nx"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nb"&gt;DELETE&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Write - before : {} after : {}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataBefore&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="nx"&gt;rootChange.getDataAfter&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
                &lt;span class="nx"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;通过getRootNode()获取当前变化节点，getModificationType()获得数据树变化类型，分三种：WRITE, SUBTREE_MODIFIED, DELETE。写入，子树变化，或删除。getDataBefore()获得变化前的数据，getDataAfter()获得变化后的数据。&lt;/p&gt;
&lt;h2&gt;DOMDataTreeChangeListener&lt;/h2&gt;
&lt;p&gt;通过DOMDataBroker访问DataStore，使用Binding Independent类型，使用QName对数据树进行索引和数据的定位。相关名词：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DOMDataBroker&lt;/li&gt;
&lt;li&gt;DOMDataWriteTransaction&lt;/li&gt;
&lt;li&gt;YangInstanceIdentifier&lt;/li&gt;
&lt;li&gt;DataTreeChange(DOMDataTreeChange)&lt;/li&gt;
&lt;li&gt;Transaction Chain&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;具体代码如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;DOMDataWriteTransaction&lt;/span&gt; &lt;span class="n"&gt;tx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;domDataBroker&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newWriteOnlyTransaction&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="n"&gt;YangInstanceIdentifier&lt;/span&gt; &lt;span class="n"&gt;yid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;YangInstanceIdentifier&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;builder&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TestExec&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QNAME&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;OuterList&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QNAME&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;nodeWithKey&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;OuterList&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;QNAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;element&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getId&lt;/span&gt;&lt;span class="p"&gt;()).&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;LogicalDatastoreType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CONFIGURATION&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;element&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;try&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;checkedGet&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;catch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;TransactionCommitFailedException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="n"&gt;LOG&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Transaction failed: {}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toString&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用BI方式，通过QNAME进行索引，可对数据树中的任何位置进行精确的定位，直接获取QNAME对应位置的变化事件。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Fri, 15 Jan 2016 00:00:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-15:pages/2016/01/15/opendaylightkai-fa-3-datastorechangejian-ting-qi-san-chong-lei-xing.html</guid><category>OpenDayLight</category><category>MD-SAL</category><category>ODL</category></item><item><title>OpenDayLight开发(2)-从Toaster例子学习Rpc,Notification,DataStore</title><link>http://www.zhaoguangze.com/pages/2016/01/12/opendaylightkai-fa-2-cong-toasterli-zi-xue-xi-rpcnotificationdatastore.html</link><description>&lt;h2&gt;概述&lt;/h2&gt;
&lt;p&gt;OpenDayLight的服务抽象层(SAL)早期的编程模型是API驱动(AD-SAL)，北向API一一对应南向协议，使得AD-SAL开发的北向应用程序只能依赖唯一的南向协议，不具备通用性。后来编程模型改为模型驱动，即MD-SAL,本人主要接触的也是MD-SAL，并没有基于AD-SAL做过开发。MD-SAL通过Yang Model定义模型，北向应用程序与模型交互，模型与网络交互。&lt;/p&gt;
&lt;h2&gt;关于MD-SAL&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;MD-SAL模型驱动的服务抽象层，为Apps和Plugins开发提供同意支持&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;提供Request Routing和用来实现抽象服务和相应API的基础框架&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;抽象服务和API都由各个Plugin通过Yang Model定义&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Yang Tools Plugin根据Yang Model的定义自动生成API，生成相应Java代码&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开发者通过实现自动生成的Service Interface来实现具体的API功能和服务内容&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Plugin通过MD-SAL和生成的API(Rpc,Notification)，DataStore去利用其他Plugin的服务和数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;所有功能模块的信息交互，数据存储调用都通过MD-SAL完成&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;名词解释&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rpc:提供服务的远程调用接口&lt;/li&gt;
&lt;li&gt;Notification:提供通知，可以发出通知和接收通知。&lt;/li&gt;
&lt;li&gt;DataStore:提供数据存储，读取，Transaction等功能。&lt;/li&gt;
&lt;li&gt;Request Routing:提供请求路由功能，把外部请求传送到正确的Plugin和Node instance处理。&lt;/li&gt;
&lt;li&gt;Node instance:Yang结构树上的节点实例&lt;/li&gt;
&lt;li&gt;Restconf Subsystem:自动定义和创建Restconf API的Plugin&lt;/li&gt;
&lt;li&gt;Config subsystem:提供统一的配置文件管理功能的Plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;MD-SAL Plugin&lt;/h2&gt;
&lt;p&gt;Plugin与MD-SAL的关联方式可分成两种:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;BA(Binding-Aware) 使用Yang Model定义模型，并自动生成的Java Bindings的Plugin&lt;/li&gt;
&lt;li&gt;BI(Binding-Independent) 与BA不同，不依赖于Java Bindings&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Yang Model&lt;/h2&gt;
&lt;p&gt;Yang Model可以定义三种类型：Rpc，Notification，Data。&lt;/p&gt;
&lt;p&gt;Rpc可以理解北向调用模型的相关服务接口；&lt;/p&gt;
&lt;p&gt;Notification为通知，通常用于发送某种事件而广播通知，或订阅通知收到通知后的操作;&lt;/p&gt;
&lt;p&gt;Data为数据，Yang Model中可以定义数据类型并存储数据，data分两种：Config和Operational。Config为配置信息，北向应用向南向网络下发的配置数据信息，Operational为运行时信息，通常是ODL记录的南向的网络状态信息。&lt;/p&gt;
&lt;p&gt;Yang Model详细语法规则，参照https://tools.ietf.org/html/rfc6020&lt;/p&gt;
&lt;h2&gt;Rpc&lt;/h2&gt;
&lt;h3&gt;Rpc definitions in YANG&lt;/h3&gt;
&lt;p&gt;Toaster例子中，在toaster-api目录下的Yang文件中定义了三个rpc：make-toast, cancel-toast, restock-toaster。对应实现了三个功能：烤面包，取消烧烤，重新填装。烤面包操作需输入两个参数：熟的程度和面包类型。取消烧烤没有输入输出。重新填装需输入重新填装的数量。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;rpc&lt;/span&gt; &lt;span class="n"&gt;make&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toast&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;leaf&lt;/span&gt; &lt;span class="n"&gt;toasterDoneness&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;uint32&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;range&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1 .. 10&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="n"&gt;leaf&lt;/span&gt; &lt;span class="n"&gt;toasterToastType&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;identityref&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;base&lt;/span&gt; &lt;span class="n"&gt;toast&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;toast&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
            &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;wheat&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;bread&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;// rpc make-toast&lt;/span&gt;

&lt;span class="n"&gt;rpc&lt;/span&gt; &lt;span class="n"&gt;cancel&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toast&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;// rpc cancel-toast&lt;/span&gt;

&lt;span class="n"&gt;rpc&lt;/span&gt; &lt;span class="n"&gt;restock&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toaster&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;leaf&lt;/span&gt; &lt;span class="n"&gt;amountOfBreadToStock&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;uint32&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;// rpc restock-toaster&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Rpc registration&lt;/h3&gt;
&lt;p&gt;在api/目录下写完Yang Model后编译，自动生成Java Code, Rpc对应ToasterService&lt;/p&gt;
&lt;p&gt;在toaster-impl/中需实现ToasterService接口，&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt; &lt;span class="n"&gt;ToasterImpl&lt;/span&gt; &lt;span class="n"&gt;implements&lt;/span&gt; &lt;span class="p"&gt;...,&lt;/span&gt; &lt;span class="n"&gt;ToasterService&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;...{}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后在注册Rpc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;Override&lt;/span&gt;
&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;onSessionInitiated&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ProviderContext&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="c1"&gt;//Register the RPC Service&lt;/span&gt;
    &lt;span class="n"&gt;rpcReg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;addRpcImplementation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ToasterService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Rpc implementation&lt;/h3&gt;
&lt;p&gt;最后实现Rpc的功能,e.g. make-toast&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;Override&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;Future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;RpcResult&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="bp"&gt;Void&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;makeToast&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="nx"&gt;MakeToastInput&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;makeToast: {}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Futures.immediateFuture&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nx"&gt;RpcResultBuilder.&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="bp"&gt;Void&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;success&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;build&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Notification&lt;/h2&gt;
&lt;p&gt;在Yang Model中定义&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;notification&lt;/span&gt; &lt;span class="n"&gt;toasterOutOfBread&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;description&lt;/span&gt;
        &lt;span class="s"&gt;&amp;quot;Indicates that the toaster has run out of bread.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="c1"&gt;// notification toasterOutOfBread&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在SAL中注册&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;NotificationsProviderService&lt;/span&gt; &lt;span class="n"&gt;notificationService&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;onSessionInitiated&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;ProviderContext&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notificationService&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;session&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getSALService&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NotificationProvierService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;发送通知&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;outOfBread&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;notificationService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;publish&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ToasterOutOfBreadBuilder&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;编译api/,YangModel中定义的notification会自动生成Listener接口ToasterListener,订阅收到通知后的操作需实现该接口，如下是自动生成的ToasterListener代码。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;ToasterListener&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;NotificationListener&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// Indicates that the toaster has run out of bread.&lt;/span&gt;
    &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="n"&gt;onToasterOutOfBread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ToasterOutOfBread&lt;/span&gt; &lt;span class="n"&gt;notification&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;DataStore&lt;/h2&gt;
&lt;h3&gt;Yang Data Tree&lt;/h3&gt;
&lt;p&gt;MD-SAL中通过DataStore存储数据,与DataStore的交互通过DataBroker实现，DataStore中存储的数据发生变化会触发onDataChange()事件，在onDataChange()中响应DataStore的变化。数据在DataStore中以树形结构存储。
Yang模型中有:container, list, leaf数据类型。那么树形结构可能如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Container&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;parent&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;list&lt;/span&gt;
&lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;container&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;parent&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;leaf&lt;/span&gt;
&lt;span class="n"&gt;Leaf&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;child&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;container&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;相关说明&lt;/h3&gt;
&lt;p&gt;使用DataBroker对DataStore进行数据读写，监听数据仓库变化事件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;注册监听器dataBroker.registerDataChangeListener(LogicalDataStoreType, InstanceIdentifier, dataChangeListener, DataChangeScope)&lt;/li&gt;
&lt;li&gt;LogicalDataStoreType:Configuration or Operational即DataStore中存储的数据类型，是Configuration或者Operational&lt;/li&gt;
&lt;li&gt;DataChangeScope:BASE(change in node only), ONE(change in node or direct children), SUBTREE(change in node or direct children or nested children)监听变化范围，BASE只监听当前节点变化事件，ONE监听当前节点和其左右儿子节点变化事件，SUBTREE监听当前节点和左右子树的所有变化事件。&lt;/li&gt;
&lt;li&gt;InstanceIdentifier是监听节点的身份标识。&lt;/li&gt;
&lt;li&gt;Implement the onDataChange(final AsyncDataChangeEvent&lt;InstanceIdentifier&lt;?&gt;, DataObject&amp;gt; change)实现onDataChange函数。&lt;/li&gt;
&lt;li&gt;AsyncDataChangeEvent has 4 APIs: getCreatedData, getUpdatedData, getOriginalData, getRemovedPaths.其作用是getCreatedData获取第一次创建DataStore并存入的数据。getUpdatedData获得更新后的数据，getOriginalData获得更新前的数据，getRemovedPaths获取删除以后的数据仓库。&lt;/li&gt;
&lt;li&gt;事务有三种，读，写，读写：ReadTransaction/ReadWriteTransaction/WriteTransaction&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;监听DataStore变化&lt;/h3&gt;
&lt;p&gt;为监听节点，创建身份标识Instance Identifier:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;static&lt;/span&gt; &lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="nx"&gt;InstanceIdentifier&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;Toaster&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;TOASTER_IID&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;InstanceIdentifier.builder&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;Toaster.class&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;build&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用DataBroker注册监听器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;dcReg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dataService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;registerDataChangeListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;LogicalDatastoreType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CONFIGURATION&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TOASTER_IID&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DataChangeScope&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;SUBTREE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;监听数据变化&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;@Override&lt;/span&gt;
&lt;span class="nt"&gt;public&lt;/span&gt; &lt;span class="nt"&gt;void&lt;/span&gt; &lt;span class="nt"&gt;onDataChange&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;final&lt;/span&gt; &lt;span class="nt"&gt;AsyncDataChangeEvent&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;InstanceIdentifier&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;?&amp;gt;,&lt;/span&gt; &lt;span class="nt"&gt;DataObject&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;change&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;DataObject&lt;/span&gt; &lt;span class="nt"&gt;dataObject&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;change&lt;/span&gt;&lt;span class="nc"&gt;.getUpdatedSubtree&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;

    &lt;span class="nt"&gt;if&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="nt"&gt;dataObject&lt;/span&gt; &lt;span class="nt"&gt;instanceof&lt;/span&gt; &lt;span class="nt"&gt;Toaster&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Toaster&lt;/span&gt; &lt;span class="n"&gt;toaster&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Toaster&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;dataObject&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;LOG&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;onDataChanged - new Toaster config: {}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;toaster&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nt"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;LOG&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;warn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;onDataChange - not instance of Toaster {}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dataObject&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;从DataStore读取数据&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;ReadTransaction&lt;/span&gt; &lt;span class="n"&gt;readTx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;dataBroker.newReadOnlyTransaction&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nx"&gt;Optional&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;DataToBeReadClass&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="kd"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;readTx.read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;LogicalDataStoreType&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;Instanceidentifier&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;data&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;isPresent&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;DataToBeReadClass&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;data&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;get&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;向DataStore写入数据&lt;/h3&gt;
&lt;p&gt;1.Data:使用Yang模型自动生成的builder和setter方法创建数据。&lt;/p&gt;
&lt;p&gt;2.Create:使用dataBroker创建writeTransaction&lt;/p&gt;
&lt;p&gt;3.Put:将数据写入Transaction&lt;/p&gt;
&lt;p&gt;4.Submit:提交Transaction&lt;/p&gt;
&lt;p&gt;下面是同步方式写入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Toaster&lt;/span&gt; &lt;span class="n"&gt;toaster&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ToasterBuilder&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="n"&gt;setToasterManufacturer&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;TOASTER_MANUFACTURER&lt;/span&gt; &lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;setToasterModelNumber&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TOASTER_MODEL_NUMBER&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;setToasterStatus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;ToasterStatus&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Up&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="n"&gt;WriteTransaction&lt;/span&gt; &lt;span class="n"&gt;tx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dataService&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newWriteOnlyTransaction&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;LogicalDatastoreType&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OPERATIONAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;TOASTER_IID&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;toaster&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;tx&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;下面是异步方式写入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;Toaster&lt;/span&gt; &lt;span class="n"&gt;toaster&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;ToasterBuilder&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="nx"&gt;.&lt;/span&gt; &lt;span class="nx"&gt;...&lt;/span&gt; &lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;build&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="nx"&gt;WriteTransaction&lt;/span&gt; &lt;span class="n"&gt;tx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;dataService.newWriteOnlyTransaction&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="nx"&gt;tx.put&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;LogicalDatastoreType.OPERATIONAL&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;TOASTER_IID&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;toaster&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;Futures.addCallback&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;tx.submit&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="nb"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;FutureCallback&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="bp"&gt;Void&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;Override&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;void&lt;/span&gt; &lt;span class="nx"&gt;onSuccess&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="bp"&gt;Void&lt;/span&gt; &lt;span class="nb"&gt;result&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;initToasterOperational: transaction succeeded&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="nx"&gt;Override&lt;/span&gt;
    &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="nf"&gt;void&lt;/span&gt; &lt;span class="nx"&gt;onFailure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;final&lt;/span&gt; &lt;span class="nx"&gt;Throwable&lt;/span&gt; &lt;span class="nb"&gt;t&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="k"&gt;LOG&lt;/span&gt;&lt;span class="bp"&gt;.&lt;/span&gt;&lt;span class="nb"&gt;error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;initToasterOperational: transaction failed&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;ODL wiki中Toaster是很好的入门OpenDayLight Plugin开发的例子，实现一遍Toaster，对刚刚入门的ODL学习者理解ODL非常受益，以上是我学习Toaster的一些总结，希望能给读者带来帮助。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Tue, 12 Jan 2016 21:35:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-12:pages/2016/01/12/opendaylightkai-fa-2-cong-toasterli-zi-xue-xi-rpcnotificationdatastore.html</guid><category>OpenDayLight</category><category>MD-SAL</category><category>ODL</category></item><item><title>OpenDayLight开发(1)-初识ODL</title><link>http://www.zhaoguangze.com/pages/2016/01/09/opendaylightkai-fa-1-chu-shi-odl.html</link><description>&lt;h1&gt;前言&lt;/h1&gt;
&lt;p&gt;今年夏天，在思科实习了三个多月的时间，主要做的是SDN方向开源控制器OpenDayLight相关的开发工作，在此之前，我不知道什么是SDN，更没接触过ODL，甚至网络方面的基础都很薄弱，一切从零开始，现记录下我的学习历程。&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;初识OpenDayLight&lt;/h1&gt;
&lt;h2&gt;SDN&lt;/h2&gt;
&lt;p&gt;什么是SDN？SDN，Software Define Network，即软件定义网络，简单理解，传统网络中每台交换机或路由器相互独立控制，每台设备都由控制层和数据层组成，控制层负责计算，数据层负责根据计算结果的数据转发，软件定义网络概念希望将所有设备的控制层集中起来，统一计算和调度，网络中的交换机或路由器只负责根据集中控制器计算的结果进行数据转发，从而实现网络设备的软件和硬件的剥离。这有些类似计算机中的操作系统，像windows,Linux系统可以装在很多硬件设备上，而不是操作系统和计算机硬件相绑定。&lt;/p&gt;
&lt;h2&gt;OpenDayLight&lt;/h2&gt;
&lt;p&gt;什么是OpenDayLight？OpenDayLight(ODL)是一个开源的集中控制器，其他控制器还有ONOS，Ryu等，通过ODL可以对网络进行集中计算和调度。OpenDayLight提供了一套框架，为网络设备提供南向协议，北向提供可供调用的API接口，ODL的目的是为了上层应用程序更好的控制底层网络环境。ODL开发的范围很大，可以基于ODL做北向应用程序的开发，可以开发南向协议，还可以开发从北向到南向的完整plugin。我做的大部分工作是plugin的开发。先来熟悉ODL中的几个概念。&lt;/p&gt;
&lt;h3&gt;Controller&lt;/h3&gt;
&lt;p&gt;Controller采用OSGI Framework，实现了模块化和可扩展性。
SAL即服务抽象层，是Controller最核心模块
Controller由Bundle实现，Bundle是OSGI中的基本组件，表现形式是Jar/Kar文件。
Controller控制模块间数据交互，数据存取，API调用等。&lt;/p&gt;
&lt;h3&gt;Plugin&lt;/h3&gt;
&lt;p&gt;plugin是通过SAL实现的功能模块。
运行在ODL OSGI Framework上，与ODL共享一个JVM&lt;/p&gt;
&lt;h3&gt;Karaf&lt;/h3&gt;
&lt;p&gt;OSGI是Java动态模块系统，提供了模块应用开发框架，Karaf基于OSGI的容器，把应用程序分成多个功能模块，通过依赖dependency进行管理，Karaf中引用了feature概念，feature是符合某个功能特征的bundle集的部署描述。&lt;/p&gt;
&lt;p&gt;常用Karaf命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Logging&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;display&lt;/span&gt;      &lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;entire&lt;/span&gt; &lt;span class="n"&gt;log&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;         &lt;span class="n"&gt;Continuously&lt;/span&gt; &lt;span class="n"&gt;display&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;last&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;log&lt;/span&gt;
&lt;span class="n"&gt;Features&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;feature&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;list&lt;/span&gt;     &lt;span class="n"&gt;List&lt;/span&gt; &lt;span class="n"&gt;all&lt;/span&gt; &lt;span class="n"&gt;features&lt;/span&gt; &lt;span class="n"&gt;known&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;controller&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;feature&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;  &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;feature&lt;/span&gt;
&lt;span class="n"&gt;Repository&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;repo&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;mvn&lt;/span&gt;         &lt;span class="n"&gt;Specifies&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;repository&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;which&lt;/span&gt; &lt;span class="n"&gt;Karaf&lt;/span&gt; &lt;span class="n"&gt;will&lt;/span&gt; &lt;span class="n"&gt;look&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;features&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Maven&lt;/h3&gt;
&lt;p&gt;官方解释Apache Maven is a software project management and comprehension tool，Maven一个软件工程管理工具，可以控制软件工程的生命周期。&lt;/p&gt;
&lt;p&gt;Maven工程的生命周期：
Validate, Compile, Test, Package, Integration-test, Verify, Install, deploy&lt;/p&gt;
&lt;p&gt;常用Maven命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;clean&lt;/span&gt; &lt;span class="n"&gt;up&lt;/span&gt; &lt;span class="n"&gt;working&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="n"&gt;that&lt;/span&gt; &lt;span class="n"&gt;were&lt;/span&gt; &lt;span class="n"&gt;created&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;
&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;built&lt;/span&gt; &lt;span class="n"&gt;artifact&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;directed&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DskipTests&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;don&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;tests&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Dcheckstyle&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;skip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ignore&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="n"&gt;style&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;OpenDayLight可以理解成一个基于OSGI框架的Maven工程。&lt;/p&gt;
&lt;h2&gt;开发过程&lt;/h2&gt;
&lt;p&gt;Code：use Intellij or Eclipse to write application code, create model, check errors&lt;/p&gt;
&lt;p&gt;Build: use Maven to build and package application, pull code into repository&lt;/p&gt;
&lt;p&gt;Test: use Karaf to run ODL and test application&lt;/p&gt;
&lt;p&gt;开发ODL plugin的过程首先定义Yang模型, 然后编译模型，自动生成部分代码和Rest API，最后编码实现逻辑。&lt;/p&gt;
&lt;h2&gt;开发环境&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;JDK&lt;/span&gt; &lt;span class="mf"&gt;1.7&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;JAVA_HOME&lt;/span&gt;
&lt;span class="n"&gt;Maven&lt;/span&gt; &lt;span class="mf"&gt;3.1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Set&lt;/span&gt; &lt;span class="n"&gt;MAVEN_HOME&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Repository&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;where&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="n"&gt;are&lt;/span&gt; &lt;span class="n"&gt;downloaded&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt; &lt;span class="n"&gt;placed&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;settings&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xml&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Points&lt;/span&gt; &lt;span class="n"&gt;Maven&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;where&lt;/span&gt; &lt;span class="n"&gt;repositories&lt;/span&gt; &lt;span class="n"&gt;are&lt;/span&gt; &lt;span class="n"&gt;located&lt;/span&gt;
&lt;span class="n"&gt;Git&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Install&lt;/span&gt; &lt;span class="n"&gt;Git&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;
&lt;span class="n"&gt;IDE&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Intellij&lt;/span&gt; &lt;span class="n"&gt;IDEA&lt;/span&gt;
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Eclipse&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;构建plugin&lt;/h2&gt;
&lt;p&gt;创建新的plugin命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;mvn&lt;/span&gt; &lt;span class="n"&gt;archetype&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt; 
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DarchetypeGroupId&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;org&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;opendaylight&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;controller&lt;/span&gt; 
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DarchetypeArtifactId&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;opendaylight&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;startup&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;archetype&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DarchetypeRepository&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//nexus.opendaylight.org/content/repositoryes/opendaylight.snapshot/ &lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;DarchetypeCatalog&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//nexus.opendaylight.org/content/repositories/opendaylight.snapshot/archetype-catalog.xml&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;输入响应提示&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Define value for property &amp;#39;groupId&amp;#39;: : com.company.project
Define value for property &amp;#39;artifactId&amp;#39;: : project
Define value for property &amp;#39;version&amp;#39;:  1.0-SNAPSHOT: : 1.0.0-SNAPSHOT
Define value for property &amp;#39;package&amp;#39;:  com.company.project
Define value for property &amp;#39;classPrefix&amp;#39;:  &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;artifactId&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;substring&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toUpperCase&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="cp"&gt;}${&lt;/span&gt;&lt;span class="n"&gt;artifactId&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;substring&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;
Define value for property &amp;#39;copyright&amp;#39;: : Copyright (c) 2015 Company, Inc.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接着会在当前目录下生成工程的文件目录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
    &lt;span class="n"&gt;artifacts&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;   &lt;span class="err"&gt;由&lt;/span&gt;&lt;span class="n"&gt;pom&lt;/span&gt;&lt;span class="err"&gt;文件定义工程信息&lt;/span&gt;&lt;span class="n"&gt;GroupId&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;ArtifactId&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="err"&gt;，&lt;/span&gt;&lt;span class="n"&gt;dependency&lt;/span&gt;
    &lt;span class="n"&gt;api&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;   &lt;span class="err"&gt;由&lt;/span&gt;&lt;span class="n"&gt;Yang&lt;/span&gt; &lt;span class="n"&gt;Model&lt;/span&gt;&lt;span class="err"&gt;定义的工程的&lt;/span&gt;&lt;span class="n"&gt;REST&lt;/span&gt; &lt;span class="err"&gt;和&lt;/span&gt; &lt;span class="n"&gt;Java&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;API&lt;/span&gt;&lt;span class="err"&gt;定义程序的功能接口&lt;/span&gt;
    &lt;span class="n"&gt;features&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;  &lt;span class="err"&gt;工程的&lt;/span&gt;&lt;span class="n"&gt;Karaf&lt;/span&gt; &lt;span class="n"&gt;feature&lt;/span&gt;&lt;span class="err"&gt;和彼此依赖关系&lt;/span&gt;
    &lt;span class="n"&gt;impl&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;      &lt;span class="err"&gt;工程的主要业务逻辑代码&lt;/span&gt;
    &lt;span class="n"&gt;karaf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;     &lt;span class="err"&gt;工程的客户端发行版，可运行，或安装在其他发行版&lt;/span&gt;&lt;span class="n"&gt;ODL&lt;/span&gt;&lt;span class="err"&gt;中&lt;/span&gt;
    &lt;span class="n"&gt;pom&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xml&lt;/span&gt; &lt;span class="err"&gt;项目配置文件&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接下来就可以在api目录下写Yang Model，在impl/中写实现功能代码了。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Sat, 09 Jan 2016 13:23:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-09:pages/2016/01/09/opendaylightkai-fa-1-chu-shi-odl.html</guid><category>OpenDayLight</category><category>ODL</category><category>MD-SAL</category></item><item><title>2015总结-求职</title><link>http://www.zhaoguangze.com/pages/2016/01/03/2015zong-jie-qiu-zhi.html</link><description>&lt;p&gt;2015年匆匆忙忙就过去了，时间走的太快，来不及思考，来不及沉淀。之前一直没有写年终总结的习惯，但现在感觉很有必要，算是对过去一年的简单回顾和对新年的期待。&lt;/p&gt;
&lt;h1&gt;求职&lt;/h1&gt;
&lt;p&gt;这一年的主旋律是求职，也是我们这届的求职年，上了这么多年学，总算要开始找工作进入职场了，我也加入了浩浩荡荡的求职大军。&lt;/p&gt;
&lt;p&gt;今年上半年都在实验室度过，做实验室项目，写小论文。由于要开始找工作的原因，也可能是自己觉着项目太水，没有付出100％的认真，做项目的同时自己也在为找工作刷着题，看着书。这点在当时的我以为是自己的小聪明，现在想想是自己太过浮躁。以后要经常告诫自己：做一件事要么不做，要么就踏下心来做到最好，不能敷衍了事，这样才能学到更多，收获更多。小论文早早写完了，写小论文的过程中，发现自己真心做不了科研，完全理论的东西，一点现实意义没有，完成小论文以后就决定放弃科研的路子了。&lt;/p&gt;
&lt;p&gt;5，6月份左右，是找暑期实习的高峰期，学生希望通过暑期实习为自己下半年找工作多一个加分项，拿个实习offer保底找工作也踏实，企业也希望通过实习吸引并培养一批优秀的毕业生。由于实验室并不放实习，只能搞地下工作了，陆续笔面了一些公司，找的都是java开发方向的实习，找实习的结果很不理想，知名的互联网公司都挂了，难受的同时发现自己真的是太水了，非计算机班科出身，急需恶补各种计算机知识。不过还是在7月份收到了心仪的思科实习offer，遍决定去思科了。&lt;/p&gt;
&lt;p&gt;7，8，9月份都在思科实习，思科的企业文化非常开放，灵活，充满人性化，工作自由，重视分享。leader都非常nice，项目给了我足够发挥的空间，我不懂的也能耐心指导，有段时间我几乎每天都找leader问问题，讨论项目。思科并不严格要求在公司的时间，但分配的任务一定要按时完成，有什么问题就提出来，商量着解决。我本身是一个不擅表达的人，但每周psu是我最喜欢的部分，把自己做的东西分享给team，分享的过程讨论问题，学习技术，让我受益很多。在思科最大的收获是认识了很多小伙伴，每天在一块，欢声笑语无数。在思科的实习让我学到很多东西，而我也非常喜欢思科，真的非常喜欢，也非常希望能够留在思科，只是后来思科校招，北京地区并没有提供合适的招聘岗位，不得不放弃。在这还是要非常感谢我的leader，Kevin，常贺，王迅，谢谢你们对我的悉心指导，还有我CAPD的team，感谢与你们一起度过了愉快的实习时光，感谢思科。&lt;/p&gt;
&lt;p&gt;10月份校招大军就开始了，每天都有N家公司在学校开宣讲会，笔面试。求职方向每个人想法都不同，我打算以后留在北京，所以偏向国企和央企，先拿户口，其他的以后再说，当然如果有机会进一线互联网公司也是很好的机会。所以我的简历从互联网，外企，到银行，运营商，研究所等等，投了个遍。截至到签约，投出去的简历有接近200份。10月11月两个月，每天上午，下午，晚上都奔波于笔试，面试，投简历。通常的情况是早起去笔试，中午外面吃口饭，下午直接赶去另外一家面试，然后晚上各学校跑宣讲会投简历或笔试，经常有时间重合的就需要自己做选择，找工作对身体和心灵都是一种考验，这种海投海面海笔的好处就是可以及时发现自己的盲点，然后赶紧补充起来，虽然每天很累，但这何尝不是一种历练。11月中旬收到了农行软开的offer，农行软开在我邮有"神开"光环，往年是：解决后户＋不错的工资＋加班少不累的工作。今年的情况是，扩招，户口不承诺，待遇与以往相同。对银行软件开发类的工作我不是很了解，但对这个方向却是有着很大兴趣，对互联网金融行业非常看好，综合很多因素，最后决定签约。签了三方以后，农行是不允许毁约的，所以我也没再继续找其他工作，已经安排的笔试和面试，拿到的offer也就陆续拒掉了。签了农行，我的校招基本告一段落了，大概两个月的时间，不算长，找工作期间最心酸的一次经历是腾讯简历挂了去霸面，去了以后发现等待霸面的简历堆成山了，递了简历遍走了，回学校的路上下了大雨，没带伞被浇的不行。最感动的应该就是拿着三方去农行开签约会的时候吧。其实找工作的过程，运气非常重要，有的公司你精心准备却没有结果，有些可能并没有抱希望最后却柳暗花明，所以心态一定要摆正，找着好工作并不能说明自己比其他人多优秀，没找着也不能说明就比谁差多少，每个人的机遇不同而已。&lt;/p&gt;
&lt;p&gt;11月底，参加了国考，报的是国家aq部，没有太多的想法，听说国考竞争十分惨烈，也想体验一把。行测和申论简单看了看遍去考试了，考试期间看到有人在中午时间还在认真的备考，有了曾经高考的感觉，但我的心态却十分放松。公务员的发展方向就是当官，要经常和人打交道，我不知道自己适不适合当官，从自己看，每次到哪个单位想办点事情，遇到的都是一副爱答不理的嘴脸，推诿敷衍，再加上国内当官的贪污腐败，对这些人真没有好印象，我更不希望自己成为这样一类人。&lt;/p&gt;
&lt;p&gt;工作的事情就这样尘埃落定，选择了农行软开作为第一份职业。&lt;/p&gt;
&lt;h1&gt;生活&lt;/h1&gt;
&lt;p&gt;今年一整年都忙碌在找工作中，先是实习后是校招，暑期没有回家，端午和十一假期带着女友回家看看奶奶，每次回家都觉着奶奶又老了，心里很酸，不知道怎样做才能尽自己一点孝心，只希望时间时间你慢点走，留住我和奶奶在一起的时光。五一带着女友去西安见了大姑，我也看看我的外甥女。这一年都没有出去旅游，挺后悔的，研究生最后的毕业旅行再出去好好玩玩吧。今年和女朋友的感情很好，是我们在一起的第二年，感谢女友的陪伴。10月26号发现摇号中签了，实属不易，决定买车上牌。接着选车看车，车这个东西自己喜欢就好，12月份买了别克英朗，上了北京牌照，以后没事可以搞个自驾游什么的，还是很开心的。&lt;/p&gt;
&lt;h1&gt;投资&lt;/h1&gt;
&lt;p&gt;今年是我进股市的第一年，年效益40%多，并不满意但好在也赚了点生活费，希望在以后投资的过程中慢慢建立自己的投资体系，学会理财，让自己的资金稳定增长吧。&lt;/p&gt;
&lt;h1&gt;目标&lt;/h1&gt;
&lt;p&gt;2016年目标:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;顺利毕业，顺利入职，尽快适应公司环境。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多看些书，学习技术，提高能力。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;掌握更多金融知识，投资理财更成熟，建立自己的体系和哲学。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;和女朋友去趟台湾或出国旅行一次。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Sun, 03 Jan 2016 11:02:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-03:pages/2016/01/03/2015zong-jie-qiu-zhi.html</guid><category>Annual</category></item><item><title>2015投资元年</title><link>http://www.zhaoguangze.com/pages/2016/01/02/2015tou-zi-yuan-nian.html</link><description>&lt;p&gt;不得不说，2015是我炒股元年。2014年下半年股市风生水起，抱着趁牛市赚点生活费，Get投资理财的技能为以后生活添一笔收入的心态，我也在14年底开了股票账户，抱着无知，好奇，兴奋的心情杀入股市。&lt;/p&gt;
&lt;p&gt;最开始进入股市的散户总喜欢盯盘看盘，不知道仓位控制，止盈止损，不懂市场规律，最开始我喜欢买市盈率低的股票，原因很简单：低估值，因此买的都是银行股，可银行股由于14年下半年的带动牛市的一波大涨现在已开始进入调整阶段，于是我成了高位接盘的接盘侠，收益可想而知，之后银行不行又买证券，保险。我把金融股买了个遍，每天看着创业板新高，金三胖调整，我在15年的大年三十之前亏损达到最大，亏了25%左右，心里真是说不出的滋味，对金三胖彻底失去信心，发誓以后再不买金三胖。&lt;/p&gt;
&lt;p&gt;年后自以为作为高智商人才，不甘亏损，更加专研股票，开始了漫漫回本到盈利的过程，什么板块轮动，28转换，炒高转送，炒次新股，炒题材，炒概念，买卖过的股票太多了，印象最深的是中国北车了，在南北车合并前入手，经历了连续一周每天涨停都疯狂，此时我的账户资产已经翻了一倍，无知的我当时并不知道止盈的重要性，疯狂过后便是毁灭，合并后的每天杀跌让我后悔莫及，最后以盈利50%多离场。&lt;/p&gt;
&lt;p&gt;7，8月份由于要找工作的原因，没时间打理股票，我把钱从股市转入基金，不幸的是股灾来了，我也不能完全幸免，还好止损及时，刚买的基金赔了10%多就立刻赎回了。利润回撤非常严重，但后面还有更严重的。&lt;/p&gt;
&lt;p&gt;之后辗转几次，感谢苏宁云商，让我在股灾期间还能赚钱，可后来又买错来股票，全部赔了进去，一个成熟的投资者是不应该让自己的利润回撤太大的。10月份大盘开始反弹，可是当时我太忙了，完全错过了这波反弹，全是泪。&lt;/p&gt;
&lt;p&gt;作为一个新手，韭菜，股市小白，这大概就是我一年的炒股经历，写的比较粗糙，但心历路程非常艰辛，炒股炒的是心，是一个人的心态，是一个人的哲学，我深刻认识到这一点，以后务必培养，贯彻自己的套路和哲学，方能驰骋股市，穿越牛熊。&lt;/p&gt;
&lt;p&gt;这一年，以总体盈利40%多收场，有些失望，主要原因是利润回撤太多，不成熟的体现，经历了这一年，真真切切的掌握了很多金融知识，懂了投资理财，心态得到很多历练，仍有很多需要学习的地方。在2016年，希望自己的投资套路成熟起来，培养自己的哲学和心态，成为一个成熟的投资者。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Sat, 02 Jan 2016 10:27:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-02:pages/2016/01/02/2015tou-zi-yuan-nian.html</guid><category>Invest</category></item><item><title>终于有了自己的博客</title><link>http://www.zhaoguangze.com/pages/2016/01/01/zhong-yu-you-liao-zi-ji-de-bo-ke.html</link><description>&lt;p&gt;一直想有个属于自己的博客，今天参照着前辈的教程，总算搭起来了，在godaddy购买了顶级域名www.zhaoguangze.com，博客初步有了样子，以后要好好打理，记录自己生活的点滴，和技术的成长历程。&lt;/p&gt;
&lt;p&gt;欢迎大家访问http://www.zhaoguangze.com，进入我的世界。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Guangze Zhao</dc:creator><pubDate>Fri, 01 Jan 2016 15:19:00 +0800</pubDate><guid>tag:www.zhaoguangze.com,2016-01-01:pages/2016/01/01/zhong-yu-you-liao-zi-ji-de-bo-ke.html</guid><category>BlogStart</category></item></channel></rss>